# Функционал проекта 

## Последовательность работы 

Среди основных скриптов, присутствует тот, с которого последовательно начинается вся работа проекта. Это-`hello_api_TMDB.py`. Далее начинает выполнять свою работу файл `make_own_db.py` который отвечает за скачивание фильмов. При необходимости, начинает свой функционал скрипт `search_in_db.py`. А уже после него `find_similar.py`.

#### Функционал скриптов

##### hello_api_TMDB.py

Файл запрашивает API-ключ пользователя, в случае возникновения ошибки или некорректного ввода ключа-сообщит нам об этом , и программа завершит свою работу. Если с API-ключом все в порядке, то на экран выведится бюджет фильма с ID 215.

1. Что нужно сделать перед запуском скрипта
- Перед тем, как запустить скрипт, нужно зарегестрироваться на [сайте](https://api.themoviedb.org) и создать свой [API-ключ](https://www.themoviedb.org/settings/api/request). 

- А так же необходимо создать виртуальное окружение и установить все библиотки. 
```
python -m venv venv

venv\Scripts\activate
```
```
pip install -r requirements.txt
```

2. Запуск
Чтобы запустить скрипт, пропишите в терминале команду: 
```
python hello_api_TMDB.py
```

После запуска выведется поле, в котром нужно будет прописать свой API-ключ и нажать Enter. 

3. Вывод в терминал
На экране должен появится бюджет фильма, выглядеть это будет вот так:
```
Enter your api key v3: #здесь прописан ваш скрытай API-ключ
4000000
```

##### make_own_db.py

Cкрипт `make_own_db` установит и запишет название фильма в файл, если его бюджет меньше 1000. 

Он также, как и предыдущий запросит API-ключ пользователя. Функция дает нам предупреждение, о том что скачивание займет 15-20 минут. Далее он открывает файл куда записывает все фильмы с бюджетом меньше 1000. А нам на экран выводит сколько процентов осталось до конца закрузки.


- Чтобы запустить скрипт, пропишите в терминале команду:
```
python make_own_db.py
```
- Далее введите свой API-ключ и нажмите Enter.

- После проделаных действий скрипт начнет работать и терминал будет выглядеть вот так:
```
Enter your api key v3: #здесь прописан ваш скрытай API-ключ, его не будет видно
please, wait, this operation may take smth like 15-20 minutes
0.0 percent complete
0.1 percent complete
0.2 percent complete
0.3 percent complete
0.4 percent complete
0.5 percent complete
0.6 percent complete # и так далее
```
- Вам нужно дождаться окончание загрузки.


##### search_in_db.py
`search_in_db.py` найдет фильм по названию. Пользователю нужно ввести название файла, который установил предыдущий скрипт. Функция попросит ввести путь к базе данных, и если файл будет не найден, он сообщит нам об этом. Пользователю предлагается ввести название фильма для его поиска. Далее выведутся результаты поиска.

- Для запсука скрипта введите:
```
python search_in_db.py
```

- Программа запустится и попросит ввести вас путь к базу данных, пропишите:
```
MyFilmDB.json
```
- Далее вас попросят написать название фильма который вы хотите посмотркть. Напишите название.


##### find_similar.py

Последний из основных файлов найдет похожий фильм по названию.
Он начинает работать точно так же, как и прошлый: скрипт запросит путь к базе данных, чтобы начать скачивание фильма. Если он не сможет найти его по предоставленному пути, то сообщит нам о том что файл не найден. После чего попросит написать название фильма, чтобы найти похожий. В это время, он проходится по списку всех фильмов, сверяет название каждого, и если они совпадают-начинает проверку на рейтинг фильма, а именно: бюджет, оригинальный звук, сколько людей добавило в коллекцию и жанр. После проверки, если параметры фильма такие же или выше того, который мы написали изначально-программа поррекамендует нам его, выводя в терминал название фильма.

Для того чтобы запустить скрипт, пропишите:
```
python find_similar.py
```
- Программа запустится и попросит ввести вас путь к базу данных, пропишите:
```
MyFilmDB.json
```
- Далее вас попросят написать название фильма который вы хотите посмотркть. Напишите название.

Если фильма с таким названием нет на сайте, сообщит нам о том, что такого фильма нет.
